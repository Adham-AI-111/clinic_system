{% extends 'main.html' %}
{% block title %}المرضى{% endblock %}
{% block content %}


<div class="layout">
    {% include 'sidebar.html' %}

    <main class="content">
        <section class="section">
            <h2>المرضى</h2>
            <div style="display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:16px;">
                {% for patient in patients %}
                <a class="card" href="{% url 'patient-profile' patient.user.id %}" style="text-decoration:none; color:inherit;">
                    <h3 style="margin:0;">{{ patient.user.username }}</h3>
                    <p style="margin:6px 0; color:var(--muted);">العمر {{ patient.age }} • آخر تشخيص: {% if patient.diagnosis %}{{patient.diagnosis}}{% else %}لا يوجد{% endif %}</p>
                    <!-- TODO: add the next apppintment data -->
                    <span class="pill muted">الموعد التالي: اليوم 3:00 م</span>
                </a>
                {% endfor %}
                <!-- <a class="card" href="patient-detail.html" style="text-decoration:none; color:inherit;">
                    <h3 style="margin:0;">سارة محمد</h3>
                    <p style="margin:6px 0; color:var(--muted);">العمر 28 • آخر تشخيص: صداع توتري</p>
                    <span class="pill muted">الموعد التالي: غدًا 11:00 ص</span>
                </a>
                <a class="card" href="patient-detail.html" style="text-decoration:none; color:inherit;">
                    <h3 style="margin:0;">خالد سامي</h3>
                    <p style="margin:6px 0; color:var(--muted);">العمر 45 • آخر تشخيص: متابعة سكر</p>
                    <span class="pill muted">الموعد التالي: بعد غدٍ 5:30 م</span>
                </a> -->
            </div>
        </section>
    </main>
</div>
{% endblock %}